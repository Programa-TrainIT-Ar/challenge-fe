<div class="body">
  <div class="tittle">
    <a (click)="close.emit()">
      <i class="fa-solid fa-circle-chevron-left"></i> volver al listado
    </a>
    <div>
      <h1 (click)="isEditing = true">{{ selectNameForm.value.name }}</h1>
    </div>
    <div class="empty-space"></div>
  </div>

  <div class="content-1">
    <app-header-page></app-header-page>

    <div [formGroup]="selectNameForm">
      <div formArrayName="questions">
        <div *ngFor="let question of questions.controls; let i = index" [formGroupName]="i" class="question-container">
          <div class="question-header">
            <label>Pregunta {{ i + 1 }}</label>
            <button (click)="editQuestion(i)" class="edit-button">
              <i class="fa-solid fa-edit"></i>
            </button>
          </div>

          <!-- Mostrar texto de la pregunta -->
          <div *ngIf="!question.get('isEditing')">
            {{ question.get('text').value }}
          </div>

          <!-- Inputs que aparecen al editar -->
          <div *ngIf="question.get('isEditing')">
            <input
              type="text"
              formControlName="text"
              class="custom-option-input"
              placeholder="Escribe la pregunta" />
            <div class="options">
              <div *ngIf="question.get('type').value === 'true_false'">
                <span>
                  <input type="radio" formControlName="correct_option" [value]="'Verdadero'" /> Verdadero
                </span>
                <span>
                  <input type="radio" formControlName="correct_option" [value]="'Falso'" /> Falso
                </span>
              </div>
              <div *ngIf="question.get('type').value === 'multiple_choice'">
                <div formArrayName="options">
                  <div *ngFor="let option of question.get('options').controls; let j = index" [formGroupName]="j">
                    <span>
                      <input type="checkbox" formControlName="selected" />
                    </span>
                    <span>
                      <input
                        type="text"
                        formControlName="text"
                        placeholder="Escribe la opciÃ³n" />
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="buttons"><button type="submit" (click)="createQuiz()" class="btn btn-primary">Guardar</button> <button class="btn btn-primary">siguiente</button></div>
  </div>
</div>
