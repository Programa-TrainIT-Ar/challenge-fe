<div class="normal-container transparent">
  <form [formGroup]="selectHeaderForm">
    <div class="header-inputs-container">
      <div>
        <input
          type="text"
          class="input-name mb-2"
          placeholder="Nombre del Quiz"
          formControlName="nombreQuiz" />
      </div>
      <div>
        <textarea
          class="text-description"
          placeholder="Descripción"
          formControlName="descripcion"></textarea>
      </div>
    </div>

    <div class="content">
      <div class="content-1">
        <div class="input-container">
          <h4>Módulo</h4>
          <select
            formControlName="modulo"
            class="form-select option-select"
            aria-label="Default select example">
            <option value="" disabled selected>Desarrollo</option>
            <option class="option" value="1">Marketing</option>
            <option class="option" value="2">Sistemas</option>
          </select>
        </div>

        <div class="input-container">
          <h4>Célula</h4>

          <!-- formControlName="celula" -->
          <div
            (click)="isShowCelula()"
            class="form-select option-select"
            aria-label="Default select example">
            <span [ngClass]="[questionCategory?.modulo, 'floating']">{{
              questionCategory?.modulo
            }}</span>

            <div
              *ngIf="showCelula"
              class="option-floating"
              (click)="isShowCelula()">
              <button
                class="floating Diseño-UX-UI"
                (click)="pushQuestionCategory('modulo', 'Diseño-UX-UI')">
                Diseño UX/UI
              </button>
              <button
                class="floating QA-Tester"
                (click)="pushQuestionCategory('modulo', 'QA-Tester')">
                QA Tester
              </button>
              <button
                class="floating Frontend"
                (click)="pushQuestionCategory('modulo', 'Frontend')">
                Front end
              </button>
              <button
                class="floating Backend"
                (click)="pushQuestionCategory('modulo', 'Backend')">
                Back end
              </button>
              <button
                class="floating PM"
                (click)="pushQuestionCategory('modulo', 'PM')">
                PM
              </button>
              <button
                class="floating Scrum-Master"
                (click)="pushQuestionCategory('modulo', 'Scrum-Master')">
                Scrum Master
              </button>
            </div>
          </div>

          <!-- Adaptacion UI -->
        </div>
        <!-- senñority -->
        <div class="input-container">
          <h4>Seniority / Nivel</h4>
          <div
            (click)="isShowSeniority()"
            class="form-select option-select"
            aria-label="Default select example">
            <span [ngClass]="[questionCategory?.seniority, 'floating']"
              >{{ questionCategory?.seniority }}
            </span>

            <!-- absolute -->
            <div
              class="option-floating"
              *ngIf="showSeniority"
              (click)="isShowSeniority()">
              <button
                class="floating trainee"
                (click)="pushQuestionCategory('seniority', 'trainee')">
                Trainee
              </button>
              <button
                class="floating junior"
                (click)="pushQuestionCategory('seniority', 'junior')">
                Junior
              </button>
              <button
                class="floating semi-sr"
                (click)="pushQuestionCategory('seniority', 'semi-sr')">
                Semi Sr
              </button>
              <button
                class="floating senior"
                (click)="pushQuestionCategory('seniority', 'senior')">
                Senior
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>

  <!-- componente agus -->

  <!-- <div class="content-2"> -->
  <div *ngIf="selectHeaderForm.valid" class="content-2">
    <h3 class>Define la pregunta 1/5</h3>

    <!-- Formulario Angular con ngForm -->
    <form #questionForm="ngForm" (ngSubmit)="onSubmit(questionForm)" class>
      <div class="question-container mb-3">
        <div>
          <label for="questionType" class="custom-label"
            >Tipo de Pregunta</label
          >
          <!-- Seleccion de opcion -->
           <div class="d-flex">
             <select
             class="custom-input"
             id="questionType"
             name="questionType"
             [(ngModel)]="selectedOption"
             (ngModelChange)="onQuestionTypeChange($event)"
            required>
            <option value="" disabled selected>Selecciona una opción</option>
            <option
            *ngFor="let type of questionTypes"
            class="custom-select"
            [value]="type">
            {{ type }}
          </option>
        </select>
        <div class="checkbox-container">
          <input
            type="checkbox"
            class=""
            name="select"
           />
        </div>
        </div>
        </div>
        <div class="custom-label">
          <div class="label-input">
            <label
              for="questionText"
              class="custom-label d-flex justify-content-end"
              >Escribe una pregunta</label
            >
          </div>

          <!-- Pregunta -->

          <input
            type="text"
            id="questionText"
            class="custom-input"
            name="questionText"
            ngModel
            placeholder="Escribe una pregunta"
            required />
        </div>
      </div>

      <!-- opciones: Opcion 1 Opcion 2 con bucle -->

      <div class="form-group">
        <div class="option-row">
          <div *ngFor="let option of options; let i = index" class="mb-3 row">
            <!-- check -->
            <div class="checkbox-container">
              <input
                type="{{ inputType }}"
                class="checkbox-input"
                name="solution"
                [value]="option"
                [ngModel]="selection"
                (ngModelChange)="answerChoice(i, inputType)" />
            </div>
            <!-- input del check -->
            <input
              type="text"
              class="custom-option-input"
              [(ngModel)]="options[i]"
              name="option{{ i }}"
              placeholder="Opción"
              [readonly]="isTrueFalseQuestion"
              required />
          </div>

          <!-- add options -->

          <div *ngIf="showPlus" class="row">
            <div class="checkbox-container">
              <i class="bi bi-plus-circle" (click)="addOption()"></i>
            </div>
            <input
              type="text"
              class="custom-option-input"
              name="agregate"
              placeholder="Añadir una nueva opción" />
          </div>

          <!-- add options 2 -->
          <div *ngIf="showPlus2" class="row">
            <div class="checkbox-container">
              <i class="bi bi-plus-circle" (click)="addOption2()"></i>
            </div>
            <input
              type="text"
              class="custom-option-input"
              name="agregate"
              placeholder="Añadir una nueva opción" />
          </div>
        </div>
      </div>

      <div *ngIf="showSubmits" class="d-flex justify-content-around">
        <button type="submit" class="custom-btn-submit">
          Guardar Pregunta
        </button>

        <button
          type="button"
          class="custom-btn-new-question"
          (click)="addNewQuestion(questionForm)"
          [disabled]="!questionForm.valid">
          Nueva Pregunta
        </button>
      </div>
    </form>
  </div>
</div>
