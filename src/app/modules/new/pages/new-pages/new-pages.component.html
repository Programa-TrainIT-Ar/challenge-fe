<div class="normal-container transparent">
  <div class="header-inputs-container">
    <div>
      <div
        [ngClass]="showForm ? 'quiz-container-true' : 'quiz-container-false'">
        <form [formGroup]="selectNameForm">
          
          <!-- <div *ngIf="isFieldInvalid('name')" class="notice">
            El nombre es requerido.
          </div> -->
          <div class="flex-b">
            <input
              type="text"
              class="input-name mb-2"
              [placeholder]="isFieldInvalid('name') ? '* El nombre es requerido' : 'Nombre del Quiz'"
              formControlName="name"
              [ngClass]="{'notice': isFieldInvalid('name')}" />
            <div [ngClass]="showForm ? '' : 'd-none'">
              <button class="btn-plus" (click)="editQuiz()">
                <span><i class="fa-regular fa-pen-to-square"></i></span>
              </button>
            </div>
          </div>
        
          <div>
            <input
              type="text"
              class="input-description"
              [ngClass]="{'notice': isFieldInvalid('description')}"
              [placeholder]="isFieldInvalid('description') ? '* La descripcón es requerida' : 'Descripción'"
              formControlName="description"/>
          </div>
        </form>
        
        <app-header-page
          [ngClass]="showForm ? '' : 'absolute-true'"
          (datosParaPadre)="recibirDatos($event)"></app-header-page>
      </div>
    </div>
  </div>
  <div *ngIf="showButton">
    <button (click)="createQuiz()" class="custom-btn-save">Guardar</button>
  </div>

  <!-- componente agus -->

  <div *ngIf="showForm" class="content-2">
    <h3 class>Define la pregunta {{questions.length+1}}/10</h3>
    <!-- Formulario Angular con ngForm -->
    <form #questionForm="ngForm" (ngSubmit)="createQuestion(questionForm)" class>
      <div class="question-container mb-3">
        <div>
          <label for="questionType" class="custom-label"
            >Tipo de Pregunta</label
          >
          <!-- Seleccion de opcion -->
          <div class="d-flex">
            <select
              class="custom-input"
              id="questionType"
              name="questionType"
              [(ngModel)]="selectedOption"
              (ngModelChange)="onQuestionTypeChange($event, questionForm)"
              required>
              <option value="" disabled selected>Selecciona una opción</option>
              <option
                *ngFor="let type of questionTypes"
                class="custom-select"
                [value]="type">
                {{ type }}
              </option>
            </select>
          </div>
        </div>
        <div class="custom-label">
          <div class="label-input">
            <label
              for="questionText"
              class="custom-label d-flex justify-content-end"
              >Escribe una pregunta</label
            >
          </div>

          <!-- Pregunta -->

          <input
            type="text"
            id="questionText"
            class="custom-input"
            name="questionText"
            ngModel
            placeholder="Escribe una pregunta"
            required />
        </div>
      </div>

      <!-- opciones: Opcion 1 Opcion 2 con bucle -->

      <div class="form-group">
        <div class="option-row">
          <div *ngFor="let option of options; let i = index trackBy: trackByFn" class="row">
            <!-- check -->
            <div class="checkbox-container mb-3">
              <input
                type="{{ inputType }}"
                class="checkbox-input"
                name="solution"
                [ngModel]="selection"
                (ngModelChange)="answerChoice(i, inputType)" />
            </div>
            <!-- input del check -->
            <input
              type="text"
              class="custom-option-input mb-3"
              [(ngModel)]="options[i]"
              name="option{{ i }}"
              [readonly]="isTrueFalseQuestion"
              required />
          </div>

          <!-- add options -->

          <div *ngIf="showPlus" class="row">
            <div class="checkbox-container">
              <i class="bi bi-plus-circle" (click)="addOption()"></i>
            </div>
            <input
              type="text"
              class="custom-option-input"
              name="agregate"
              placeholder="Añadir una nueva opción" />
          </div>

          <!-- add options 2 -->
          <div *ngIf="showPlus2" class="row">
            <div class="checkbox-container">
              <i class="bi bi-plus-circle" (click)="addOption2()"></i>
            </div>
            <input
              type="text"
              class="custom-option-input"
              name="agregate"
              placeholder="Añadir una nueva opción" />
          </div>
        </div>
      </div>

      <div *ngIf="showSubmits" class="d-flex justify-content-around">
        <button type="submit" class="custom-btn-submit">
          Guardar Pregunta
        </button>
      </div>
    </form>
  </div>
</div>
